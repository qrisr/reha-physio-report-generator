<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reha 2025 - Physiotherapie Abschlussbericht Generator</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Abschlussbericht erstellen</h1>
            <p>Erstellen Sie strukturierte Abschlussberichte für Ihre Patienten</p>
        </header>

        <main>
            <section class="form-section">
                <h2>Berichtsdaten eingeben</h2>
                <form id="report-form">
                    <div class="form-group">
                        <label for="current-time">Zeit</label>
                        <input type="text" id="current-time" readonly>
                    </div>

                    <div class="form-group">
                        <label for="goal-status">Physiotherapie-Ziel *</label>
                        <div class="input-with-indicator">
                            <div class="select-wrapper">
                                <select id="goal-status" required>
                                    <option value="" disabled selected>Bitte auswählen</option>
                                    <option value="erreicht">Ziel erreicht</option>
                                    <option value="nicht-erreicht">Ziel nicht erreicht</option>
                                </select>
                            </div>
                            <div id="goal-status-indicator" class="indicator"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="compliance">Compliance</label>
                        <div class="input-with-indicator">
                            <div class="select-wrapper">
                                <select id="compliance" required>
                                    <option value="" disabled selected>Bitte auswählen</option>
                                    <option value="ja">Ja</option>
                                    <option value="nein">Nein</option>
                                </select>
                            </div>
                            <div id="compliance-indicator" class="indicator"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="therapy-goal">Therapieziel</label>
                        <textarea id="therapy-goal" rows="3" required placeholder="Beispiel: Patient will wieder Fahrrad fahren"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="hypothesis">Test Hypotheseneingabe</label>
                        <textarea id="hypothesis" rows="3" required placeholder="Beispiel: Degenerative Veränderungen im Kniegelenk führen zu Schmerzen und Bewegungseinschränkungen"></textarea>
                    </div>

                    <div class="form-group" id="reason-group" style="display: none;">
                        <label for="reason">Begründung für Nicht-Erreichung des Ziels</label>
                        <textarea id="reason" rows="3" placeholder="Beispiel: Patient konnte aufgrund anhaltender Schmerzen die Übungen nicht regelmäßig durchführen"></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="reset" id="reset-btn">Formular löschen</button>
                        <button type="submit" id="generate-btn">Absenden</button>
                    </div>
                </form>
            </section>

            <section class="report-section" id="report-section" style="display: none;">
                <div class="loader" id="loader" style="display: none;">
                    <div class="spinner"></div>
                    <p>Bericht wird erstellt...</p>
                </div>

                <div id="report-container" style="display: none;">
                    <h2>Generierter Bericht</h2>
                    <div class="report-summary">
                        <h3>Zusammenfassung</h3>
                        <div id="summary-content"></div>
                    </div>
                    <div class="report-content">
                        <div id="report-text"></div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 Reha 2025 - Physiotherapie Abschlussbericht Generator</p>
        </footer>
    </div>

    <script src="js/services/openRouterService.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
